<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Program Details - Savanna Junior Foundation</title>
  <link rel="stylesheet" href="program-details.css">
  <script src="scripts.js" defer></script>
</head>
<body>
  <!-- Navbar -->
  <header>
    <nav class="navbar">
      <div class="logo">
        <img src="images/logo.png" alt="SJF Logo">
        <span>Savanna Junior Foundation</span>
      </div>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="events.html">Events</a></li>
        <li><a href="volunteer.html">Volunteer</a></li>
        <li><a href="resources.html">Resources</a></li>
        <li><a href="#donate">Donate</a></li>
      </ul>
      <div class="burger">
        <div class="line1"></div>
        <div class="line2"></div>
        <div class="line3"></div>
      </div>
    </nav>
  </header>

  <!-- Program Details Section -->
  <section id="program-details" class="program-details-section">
    <h2>Program: <span id="program-title"></span></h2>
    <div class="program-content">
      <img id="program-image" src="" alt="Program Image">
      <div class="program-info">
        <p id="program-description"></p>
        <p><strong>Number of Children Helped:</strong> <span id="children-helped">0</span></p>
        <p><strong>Program Goals:</strong> <span id="program-goals"></span></p>
      </div>
    </div>

    <!-- Donation Portal -->
    <section id="donate" class="donation-portal">
      <h2>Donate to Support <span id="program-donate-title"></span></h2>
      <form action="https://www.payfast.co.za/eng/process" method="POST">
        <!-- PayFast form fields -->
        <input type="hidden" name="merchant_id" value="YOUR_MERCHANT_ID">
        <input type="hidden" name="merchant_key" value="YOUR_MERCHANT_KEY">
        <input type="hidden" name="return_url" value="https://your-website.com/thank-you">
        <input type="hidden" name="cancel_url" value="https://your-website.com/cancel">
        <input type="hidden" name="notify_url" value="https://your-website.com/payfast-notify">

        <label for="donation-amount">Select Donation Amount:</label>
        <select name="amount" id="donation-amount">
          <option value="50">$50</option>
          <option value="100">$100</option>
          <option value="250">$200</option>
          <option value="custom">Custom Amount</option>
        </select>

        <label for="custom-amount" class="custom-amount-field" style="display:none;">Enter Custom Amount:</label>
        <input type="number" id="custom-amount" name="custom_amount" style="display:none;">

        <button type="submit" class="cta-btn">Donate Now</button>
      </form>
    </section>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="social-links">
        <a href="https://facebook.com/sjf" target="_blank">Facebook</a>
        <a href="https://twitter.com/sjf" target="_blank">Twitter</a>
        <a href="https://instagram.com/sjf" target="_blank">Instagram</a>
      </div>
      <p>&copy; 2024 Savanna Junior Foundation | Melsoft Academy</p>
    </div>
  </footer>

  <script>
    // Counter function for the number of children helped
    function animateCounter(element, target) {
      let count = 0;
      const speed = 50; // Adjust speed as needed
      const increment = Math.ceil(target / 100); // Adjust increment based on the target number

      const updateCounter = () => {
        count += increment;
        if (count >= target) {
          element.innerText = target;
        } else {
          element.innerText = count;
          setTimeout(updateCounter, speed);
        }
      };

      updateCounter();
    }

    // Function to load program details and start the counter animation
    function loadProgramDetails() {
      const urlParams = new URLSearchParams(window.location.search);
      const program = urlParams.get('program');

      const programData = {
        education: {
          title: "Education Program",
          image: "images/program1.jpg",
          description: "Our education program helps provide access to quality education...",
          childrenHelped: 1200,
          goals: "Provide education tools, build schools, offer scholarships.",
        },
        healthcare: {
          title: "Healthcare Program",
          image: "images/program2.jpg",
          description: "Through our healthcare program, we provide essential healthcare services...",
          childrenHelped: 800,
          goals: "Establish clinics, provide vaccinations, offer health education.",
        },
        economic: {
          title: "Economic Empowerment",
          image: "images/program3.jpg",
          description: "Our economic empowerment projects aim to teach practical skills...",
          childrenHelped: 600,
          goals: "Teach job skills, offer entrepreneurship opportunities, provide micro-finance.",
        },
      };

      const selectedProgram = programData[program];

      if (selectedProgram) {
        document.getElementById("program-title").innerText = selectedProgram.title;
        document.getElementById("program-image").src = selectedProgram.image;
        document.getElementById("program-description").innerText = selectedProgram.description;
        document.getElementById("program-goals").innerText = selectedProgram.goals;
        document.getElementById("program-donate-title").innerText = selectedProgram.title;

        // Start the counter animation
        const childrenHelpedElement = document.getElementById("children-helped");
        animateCounter(childrenHelpedElement, selectedProgram.childrenHelped);
      } else {
        document.getElementById("program-title").innerText = "Program Not Found";
      }
    }

    // Call the function to load program details on page load
    loadProgramDetails();
  </script>
</body>
</html>
