<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Program Details | Savanna Junior Foundation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="./program-details.css">
  <script src="scripts.js" defer></script>
</head>
<body>
  <!-- Navbar -->
  <nav class="py-2 bg-body-tertiary border-bottom custom-navbar"></nav>
    <div class="container d-flex flex-wrap">
        <ul class="nav me-auto">
            <li class="nav-item"><a href="/" class="nav-link link-body-emphasis px-2 active" aria-current="page">Home</a></li>
            <li class="nav-item"><a href="/AboutUs.html" class="nav-link link-body-emphasis px-2">About</a></li>
            <li class="nav-item"><a href="/EventCalender.html" class="nav-link link-body-emphasis px-2">Events</a></li>
            <li class="nav-item"><a href="/Programs.html" class="nav-link link-body-emphasis px-2">Programs</a></li>
            <li class="nav-item"><a href="/Resource.html" class="nav-link link-body-emphasis px-2">Resources</a></li>
        </ul>
        <ul class="nav">
            <li class="nav-item"><a href="/Donation.html" class="nav-link link-body-emphasis px-2">Donate</a></li>
            <li class="nav-item"><a href="/Volunteer.html" class="nav-link link-body-emphasis px-2">Become a Volunteer</a></li>
        </ul>
    </div>
</nav>

<header class="py-3 mb-4 border-bottom">
    <div class="container d-flex flex-wrap justify-content-center">
        <a href="/" class="d-flex align-items-center mb-3 mb-lg-0 me-lg-auto link-body-emphasis text-decoration-none">
            <img src="./images/logo.png" width="200" alt="">
            <div class="fs-1 header-title">Savanna Junior Foundation</div>
        </a>
    </div>
</header>

  <!-- Program Details Section -->
  <section id="program-details" class="program-details-section">
    <h2>Program: <span id="program-title"></span></h2>
    <div class="program-content">
      <div class="program-image-container">
        <img id="program-image" src="" alt="Program Image">
      </div>
      <div class="program-info">
        <p id="program-description"></p>
        <p><strong>Number of Children Helped:</strong> <span id="children-helped">0</span></p>
        <p><strong>Program Goals:</strong> <span id="program-goals"></span></p>
      </div>
    </div>
  </section>

  <!-- Donation Portal -->
  <section id="donate" class="donation-portal">
    <h2>Support the <span id="program-donate-title"></span></h2>
    <form action="https://www.payfast.co.za/eng/process" method="POST">
      <input type="hidden" name="merchant_id" value="YOUR_MERCHANT_ID">
      <input type="hidden" name="merchant_key" value="YOUR_MERCHANT_KEY">
      <input type="hidden" name="return_url" value="https://your-website.com/thank-you">
      <input type="hidden" name="cancel_url" value="https://your-website.com/cancel">
      <input type="hidden" name="notify_url" value="https://your-website.com/payfast-notify">

      <label for="donation-amount">Select Donation Amount:</label>
      <select name="amount" id="donation-amount">
        <option value="50">$50</option>
        <option value="100">$100</option>
        <option value="250">$250</option>
        <option value="custom">Custom Amount</option>
      </select>

      <label for="custom-amount" class="custom-amount-field" style="display:none;">Enter Custom Amount:</label>
      <input type="number" id="custom-amount" name="custom_amount" style="display:none;">

      <button type="submit" class="cta-btn">Donate Now</button>
    </form>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="social-links">
        <a href="https://facebook.com/sjf" target="_blank">Facebook</a>
        <a href="https://twitter.com/sjf" target="_blank">Twitter</a>
        <a href="https://instagram.com/sjf" target="_blank">Instagram</a>
      </div>
      <p>&copy; 2024 Savanna Junior Foundation | Melsoft Academy</p>
    </div>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-I5thjejoOR45LU3cew5ZJtwSpGFZT0wbBSoFPCbYnlAfzBzZ7NYDpu1I3ylDg7p3" crossorigin="anonymous"></script>

  <script>
    // Counter function for the number of children helped
    function animateCounter(element, target) {
      let count = 0;
      const speed = 50;
      const increment = Math.ceil(target / 100);

      const updateCounter = () => {
        count += increment;
        if (count >= target) {
          element.innerText = target;
        } else {
          element.innerText = count;
          setTimeout(updateCounter, speed);
        }
      };

      updateCounter();
    }

    // Function to load program details
    function loadProgramDetails() {
      const urlParams = new URLSearchParams(window.location.search);
      const program = urlParams.get('program');

      const programData = {
        education: {
          title: "Education Program",
          image: "images/hero-image.png",
          description: "Our education program provides access to quality education by building schools, offering scholarships, and providing resources to support the academic growth of underprivileged children.",
          childrenHelped: 1200,
          goals: "Build schools, offer scholarships, and provide educational materials to enhance learning environments.",
        },
        healthcare: {
          title: "Healthcare Program",
          image: "images/program2.jpg",
          description: "Our healthcare program aims to provide essential medical services, including vaccinations, health checkups, and educational sessions for underprivileged children in rural areas.",
          childrenHelped: 800,
          goals: "Set up health clinics, organize vaccination campaigns, and provide regular medical checkups.",
        },
        economic: {
          title: "Economic Empowerment Program",
          image: "images/program3.jpg",
          description: "Our economic empowerment program focuses on teaching practical skills like agriculture, entrepreneurship, and vocational training to help underprivileged children and youth build sustainable futures.",
          childrenHelped: 600,
          goals: "Provide vocational training, entrepreneurship workshops, and micro-finance opportunities.",
        },
      };

      const selectedProgram = programData[program];

      if (selectedProgram) {
        document.getElementById("program-title").innerText = selectedProgram.title;
        document.getElementById("program-image").src = selectedProgram.image;
        document.getElementById("program-description").innerText = selectedProgram.description;
        document.getElementById("program-goals").innerText = selectedProgram.goals;
        document.getElementById("program-donate-title").innerText = selectedProgram.title;

        // Start the counter animation
        const childrenHelpedElement = document.getElementById("children-helped");
        animateCounter(childrenHelpedElement, selectedProgram.childrenHelped);
      } else {
        document.getElementById("program-title").innerText = "Program Not Found";
      }
    }

    // Call the function to load program details on page load
    loadProgramDetails();
  </script>
</body>
</html>
